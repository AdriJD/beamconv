Installing so3
First install fftw3. A FFT library.

http://www.fftw.org/fftw3.pdf

./configure
     make
     make install

make check (runs (a lot) of tests)

make distclean (only if you want to remove all made files)

./configure CFLAGS="-fPIC" --prefix /mn/stornext/u3/adriaand/fftw --enable-threads --enable-openmp --enable-mpi
Don’t use the —enable-shared or whatever option to make shared libraries. You need a static one that’s been compiled with -fpic otherwise the next steps are not going to work.

Then install ssht. This is a c library that does spin-weighted spherical harmonics
Download
Adjust makefile. 
       FFTWDIR = $(PROGDIR)/fftw/ (in my case)
make lib
make test
make runtest <- make sure these all complete


Then install so3
Download
Adjust makefile. 
       FFTWDIR = $(PROGDIR)/fftw/ (in my case)
make lib
make unittest
make test
make runtest <- again, should work


gcc -Wall -Werror -shared -o libiw.so inv_wigner.o -L/mn/stornext/u3/adriaand/so3/lib/c/ -lso3 -L/mn/stornext/u3/adriaand/ssht/lib/c -L/mn/stornext/u3/adriaand/ssht/lib/c -lssht -L/mn/stornext/u3/adriaand/fftw/lib -lfftw3 -lm

gcc -I. -L/mn/stornext/u3/adriaand/spider_tools/scratch/adri/so3test -Wall -Werror -o test test.c -liw

To run makefile: 

make -f so3_wrapper.mk 